(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8813],{58103:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-contribution",function(){return a(80667)}])},16343:function(e,s,a){"use strict";var n=a(85893),t=a(41664),i=a.n(t),c=a(11163),l=a(67294),r=a(11288),o=a.n(r);s.Z=function(e){let{p:s,uUname:a}=e;const{address:t,userProfile:r,handleChain:d,balance:m,sendData:u,username:p,setUsername:h,setUserProfile:x,BlurAddress:j,chain:f,connected:N,blockURL:g,isSigned:v,rpcURL:b,pContract:w,uploadImage:y}=s,S=(0,c.useRouter)(),C=S.query.chain,k=S.pathname,[_,L]=(0,l.useState)(""),[P,E]=(0,l.useState)(!1),[T,U]=(0,l.useState)("");return(0,l.useEffect)((()=>{_||P||L(a)})),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"card welcome-profile",children:(0,n.jsxs)("div",{className:"card-body pb-0 px-4",children:[(0,n.jsxs)("div",{className:"d-flex gap-3",children:[(0,n.jsxs)("div",{className:"userCount",children:[(0,n.jsx)("img",{src:r||"/images/profile/unknown.png",onError:e=>{let{currentTarget:s}=e;s.onerror=null,s.src="/images/profile/unknown.png"},alt:"profile"}),(0,n.jsxs)("div",{className:"overlayProfile",children:[(0,n.jsx)("div",{children:"Change"}),(0,n.jsx)("input",{className:"userFile",type:"file",onChange:e=>async function(e){if("image/jpeg"==e[0].type||"image/jpg"==e[0].type){U("");const s=await y("updateImage",e[0]);s.status?(x("https://twepv2.com/api/user_image/".concat(s.user.pic,"?update")),U("")):U(s.message)}else U("Image must be jpg or jpeg")}(e.target.files)}),(0,n.jsx)("div",{style:{top:"50%",left:"45%"},children:(0,n.jsx)("i",{className:"ri-delete-bin-line",onClick:()=>async function(){const e=o()(t);(await y("updateImage","")).status&&(x(e),U(""))}()})})]})]}),(0,n.jsxs)("div",{className:"d-flex name username flex-column",children:[(0,n.jsx)("div",{className:"pb-2",children:P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{className:"normal-input py-1 px-2 rounded",value:_,onChange:e=>L(e.target.value)}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>async function(){const e=await u({req:"updateUser",username:_},!1);e.status?(h(e.user.username),E(!1),U("")):U(e.message)}(),children:(0,n.jsx)("i",{className:"ri-check-fill"})}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>E(!1),children:(0,n.jsx)("i",{className:"ri-close-fill"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"bold text-white",children:a}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>E(!0),children:(0,n.jsx)("i",{className:"ri-edit-line"})})]})}),T&&(0,n.jsx)("div",{className:"text-red pb-2",children:T}),(0,n.jsx)("input",{className:"px-2 py-1 normal-readonly rounded w-100",readonly:!0,value:t})]})]}),(0,n.jsxs)("div",{className:"d-flex pt-4 gap-5 profile-menu",children:[(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(i(),{href:"/profile?chain="+C,children:(0,n.jsx)("span",{className:"/profile"==k?" bold active":" bold",children:"Profile"})}),"/profile"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(i(),{href:"/favorite?chain="+C,children:(0,n.jsx)("span",{className:"/favorite"==k?"bold active":" bold",children:"Favorites"})}),"/favorite"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(i(),{href:"/my-contribution?chain="+C,children:(0,n.jsx)("span",{className:"/your-contribution"==k?" bold active":" bold",children:"My Contributions"})}),"/my-contribution"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(i(),{href:"/my-pool?chain="+C,children:(0,n.jsx)("span",{className:"/my-pool"==k?" bold active":" bold",children:"My Presales"})}),"/my-pool"==k&&(0,n.jsx)("span",{className:"actives"})]})]})]})})})}},80667:function(e,s,a){"use strict";a.r(s);var n=a(85893),t=a(79801),i=a(16343),c=a(41664),l=a.n(c),r=a(67294),o=a(6154),d=a(37918),m=a.n(d),u=a(11163),p=a(2811),h=a(69015);a(94989);s.default=function(e){let{p:s}=e;const{address:a,userProfile:c,handleChain:d,username:x,chain:j,connected:f,isSigned:N,rpcURL:g,pContract:v}=s,[b,w]=(0,r.useState)([]),[y,S]=(0,r.useState)(0),[C,k]=(0,r.useState)(!0),[_,L]=(0,r.useState)(0),[P,E]=(0,r.useState)(0),[T,U]=(0,r.useState)(0),[F,B]=(0,r.useState)(0),[I,R]=(0,r.useState)([]),[q,O]=(0,r.useState)(0),[Z,A]=(0,r.useState)(0),[D,M]=(0,r.useState)(0),[X,G]=(0,r.useState)(0),H=(0,u.useRouter)(),V=H.query.chain;async function W(e){const s=new(m())(e);return(await s.eth.getBalance(a)/1e18).toLocaleString()}return(0,r.useEffect)((()=>{!async function(){f&&a&&(await N()?a&&c&&c.split(":image")[0]:H.back());try{if(f&&a&&j){const s=new(m())(g),n=new s.eth.Contract(h.presaleView,v[j].cData),t=await n.methods.getPresaleOwnerByAddress(!0).call({from:a}),i=new s.eth.Contract(p.detailsAbi,v[j].chPresale);S(t.length);let c=[],l=0,r=0,d=0;try{for(let e=0;e<t.length;e++){let s=[];const a=t[e].addresses[0],n=await i.methods.SP(a).call(),l=t[e].tokenName,m=1e3*(Number(t[e].uuint[5])-300),u=1e3*Number(t[e].uuint[5]),p=n[6],h=Number(t[e].uuint[3]),x=Number(t[e].uuint[1]),j=Number(t[e].uuint[0]),f=Number(t[e].uuint[4]);d+=(await o.Z.request({method:"GET",url:"https://api.binance.us/api/v3/klines?symbol=BNBUSDT&startTime=".concat(m,"&interval=1m&endTime=").concat(u)})).data[0][1]*h/1e18,s.push(a,h,x,j,f,l,p),r+=h/1e18,c.push(s)}k(!1),R(c),M(l),O(r.toLocaleString()),A(d.toLocaleString())}catch(e){}}L(await W("https://data-seed-prebsc-1-s2.binance.org:8545")),E(await W("https://bsc-dataseed1.ninicoin.io/")),U(await W("https://mainnet.infura.io/v3/3a07ff3925b24892b6b34817eaff64cd")),B(await W("https://exchainrpc.okex.org"))}catch(e){}}()}),[a,f,x]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t.Z,{headTitle:"Profile",pageTitle:"",pageTitleSub:"",pageclassName:"front",parent:"Home",child:"Profile",p:s,children:(0,n.jsx)("div",{className:"profile-page",children:(0,n.jsxs)("div",{className:"container-1",children:[f&&(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)(i.Z,{p:s,uUname:x})})}),C?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"row",style:{height:"100px"},children:(0,n.jsx)("div",{className:"loader",children:"Loading..."})})}):f?(0,n.jsx)("div",{className:"row",style:{placeContent:"space-between"},children:(0,n.jsxs)("div",{className:"col-12",children:[(0,n.jsx)("div",{className:"card-header px-0 pt-0 pb-0 text-uppercase",children:(0,n.jsx)("h4",{className:"card-title",children:"My Contributions"})}),(0,n.jsxs)("div",{className:" top-creators-content",children:[I.map(((e,s)=>(0,n.jsx)(l(),{href:"pool/"+e[0]+"?chain="+V,children:(0,n.jsxs)("div",{className:"row justify-content-between creator-widget active px-4 align-items-center",style:{cursor:"pointer"},children:[(0,n.jsxs)("div",{className:"d-flex align-items-center col-12 col-md-6 col-xl-4",children:[(0,n.jsx)("div",{className:"token-img me-2",children:(0,n.jsx)("span",{children:(0,n.jsx)("img",{src:e[6],onError:e=>{let{currentTarget:s}=e;s.onerror=null,s.src="/images/profile/unknown.png"}})})}),(0,n.jsxs)("div",{className:"latest-contribution d-flex flex-column",children:[(0,n.jsx)("span",{className:"mb-0 text-grey bold",children:e[5]}),0==e[4]&&(0,n.jsx)("span",{className:"text-white",children:"Upcoming"}),1==e[4]&&(0,n.jsx)("span",{className:"text-white",children:"Inprogress"}),2==e[4]&&(0,n.jsx)("span",{className:"text-white",children:"Ended"}),3==e[4]&&(0,n.jsx)("span",{className:"text-white",children:"Success"}),4==e[4]&&(0,n.jsx)("span",{className:"text-white",children:"Canceled"})]})]}),(0,n.jsxs)("div",{className:"col-12 col-xl-8 col-md-6 d-flex align-items-center content-item-favorites justify-content-between text-center",children:[(0,n.jsx)("div",{className:"border-between"}),(0,n.jsxs)("span",{className:"bold",children:[(e[3]/1e18).toLocaleString()," / ",(e[2]/1e18).toLocaleString()," ",(0,n.jsx)("span",{className:"text-white",children:d("symbol")})]}),(0,n.jsx)("div",{className:"border-between"}),(0,n.jsxs)("span",{className:"bold",children:[(e[1]/1e18).toLocaleString()," ",(0,n.jsx)("span",{className:"text-white",children:d("symbol")})]}),(0,n.jsx)("div",{className:"border-between vis-n"})]})]})},s))),!I.length&&(0,n.jsx)("div",{className:"card c-pointer",children:(0,n.jsx)("div",{className:"card-body py-2 text-uppercase bold text-center",children:"No Contribution"})})]})]})}):(0,n.jsxs)("div",{className:"nothing-here",children:[(0,n.jsx)("img",{src:"/images/chain/not_connected.png",style:{width:"100%"}}),(0,n.jsx)("p",{children:"Oops! your Wallet is not connected!"})]})]})})})})}},94989:function(){}},function(e){e.O(0,[5445,8543,260,1664,3496,9801,9774,2888,179],(function(){return s=58103,e(e.s=s);var s}));var s=e.O();_N_E=s}]);