(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5513],{10392:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorite",function(){return a(81448)}])},16343:function(e,s,a){"use strict";var n=a(85893),t=a(41664),l=a.n(t),i=a(11163),c=a(67294),r=a(11288),o=a.n(r);s.Z=function(e){let{p:s,uUname:a}=e;const{address:t,userProfile:r,handleChain:d,balance:h,sendData:m,username:p,setUsername:x,setUserProfile:u,BlurAddress:f,chain:g,connected:C,blockURL:j,isSigned:v,rpcURL:w,pContract:N,uploadImage:b}=s,y=(0,i.useRouter)(),P=y.query.chain,k=y.pathname,[S,L]=(0,c.useState)(""),[Z,M]=(0,c.useState)(!1),[_,E]=(0,c.useState)("");return(0,c.useEffect)((()=>{S||Z||L(a)})),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"card welcome-profile",children:(0,n.jsxs)("div",{className:"card-body pb-0 px-4",children:[(0,n.jsxs)("div",{className:"d-flex gap-3",children:[(0,n.jsxs)("div",{className:"userCount",children:[(0,n.jsx)("img",{src:r||"/images/profile/unknown.png",onError:e=>{let{currentTarget:s}=e;s.onerror=null,s.src="/images/profile/unknown.png"},alt:"profile"}),(0,n.jsxs)("div",{className:"overlayProfile",children:[(0,n.jsx)("div",{children:"Change"}),(0,n.jsx)("input",{className:"userFile",type:"file",onChange:e=>async function(e){if("image/jpeg"==e[0].type||"image/jpg"==e[0].type){E("");const s=await b("updateImage",e[0]);s.status?(u("https://twepv2.com/api/user_image/".concat(s.user.pic,"?update")),E("")):E(s.message)}else E("Image must be jpg or jpeg")}(e.target.files)}),(0,n.jsx)("div",{style:{top:"50%",left:"45%"},children:(0,n.jsx)("i",{className:"ri-delete-bin-line",onClick:()=>async function(){const e=o()(t);(await b("updateImage","")).status&&(u(e),E(""))}()})})]})]}),(0,n.jsxs)("div",{className:"d-flex name username flex-column",children:[(0,n.jsx)("div",{className:"pb-2",children:Z?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{className:"normal-input py-1 px-2 rounded",value:S,onChange:e=>L(e.target.value)}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>async function(){const e=await m({req:"updateUser",username:S},!1);e.status?(x(e.user.username),M(!1),E("")):E(e.message)}(),children:(0,n.jsx)("i",{className:"ri-check-fill"})}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>M(!1),children:(0,n.jsx)("i",{className:"ri-close-fill"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"bold text-white",children:a}),(0,n.jsx)("span",{style:{alignSelf:"center",marginLeft:"5px"},className:"c-pointer",onClick:()=>M(!0),children:(0,n.jsx)("i",{className:"ri-edit-line"})})]})}),_&&(0,n.jsx)("div",{className:"text-red pb-2",children:_}),(0,n.jsx)("input",{className:"px-2 py-1 normal-readonly rounded w-100",readonly:!0,value:t})]})]}),(0,n.jsxs)("div",{className:"d-flex pt-4 gap-5 profile-menu",children:[(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(l(),{href:"/profile?chain="+P,children:(0,n.jsx)("span",{className:"/profile"==k?" bold active":" bold",children:"Profile"})}),"/profile"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(l(),{href:"/favorite?chain="+P,children:(0,n.jsx)("span",{className:"/favorite"==k?"bold active":" bold",children:"Favorites"})}),"/favorite"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(l(),{href:"/my-contribution?chain="+P,children:(0,n.jsx)("span",{className:"/your-contribution"==k?" bold active":" bold",children:"My Contributions"})}),"/my-contribution"==k&&(0,n.jsx)("span",{className:"actives"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column c-pointer",children:[(0,n.jsx)(l(),{href:"/my-pool?chain="+P,children:(0,n.jsx)("span",{className:"/my-pool"==k?" bold active":" bold",children:"My Presales"})}),"/my-pool"==k&&(0,n.jsx)("span",{className:"actives"})]})]})]})})})}},81448:function(e,s,a){"use strict";a.r(s);var n=a(85893),t=a(79801),l=a(16343),i=a(41664),c=a.n(i),r=a(67294),o=a(37918),d=a.n(o),h=a(11163),m=a(2811),p=a(14783),x=a(69015),u=(a(94989),a(15948)),f=a(68097);s.default=function(e){let{p:s}=e;const{address:a,userProfile:i,rpcURL:o,pContract:g,handleChain:C,setFavorited:j,sendData:v,username:w,chain:N,connected:b,isSigned:y}=s,[P,k]=(0,r.useState)(!0),[S,L]=(0,r.useState)(!1),[Z,M]=(0,r.useState)([]),_=(0,h.useRouter)(),E=_.query.chain;return(0,r.useEffect)((()=>{!async function(){if(b&&a)if(await y()){if(b&&a&&N)try{const s=new(d())(o),n=await v({req:"getsave",address:a},!1),t=new s.eth.Contract(m.detailsAbi,g[N].chPresale),l=new s.eth.Contract(x.presaleView,g[N].cData);let i=[{addr:"1",total:2,hc:2,filled:2,status:2,name:"{pinned-not-pinned}",logo:"a"},{addr:"2",total:2,hc:2,filled:2,status:2,name:"{pinned-not-pinned}",logo:"a"},{addr:"3",total:2,hc:2,filled:2,status:2,name:"{pinned-not-pinned}",logo:"a"}],c=0,r=3;for(let a=0;a<n.presale.length;a++){const o=n.presale[a][0],d=n.presale[a][1],h=n.presale[a][2];try{if(h.length>0){let e=new s.eth.Contract(f.pinksaleAbi1,o);const a=await e.methods.version().call();a>=27&&(e=81==a?new s.eth.Contract(f.pinksaleAbi3,o):new s.eth.Contract(f.pinksaleAbi2,o));const[n,t]=await Promise.all([await e.methods.poolStates().call(),await e.methods.poolSettings().call()]),l=JSON.parse(n.poolDetails),h=t.token,m=new s.eth.Contract(p.IERC20,h),x=await m.methods.name().call(),u=l.a;let g="-";const C=t.hardCap?Number(t.hardCap):"-",j=n.totalRaised;let v=0;const w=Math.floor(+new Date/1e3),N=n.totalRaised;w>t.endTime||N==t.hardCap?v=2:w>t.startTime&&(v=1),0!=d?(i[c]={addr:o,total:g,hc:C,filled:j,status:v,name:x,logo:u},c++):(i[r]={addr:o,total:g,hc:C,filled:j,status:v,name:x,logo:u},r++)}else{const[e,a,n,h,m]=await Promise.all([await t.methods.AP(o).call(),await t.methods.SP(o).call(),await l.methods.getPresaleFactory(o).call(),await l.methods.getPresaleStatus(o).call(),await l.methods.totalRaised(o).call()]),x=e.tAdr,u=new s.eth.Contract(p.IERC20,x),f=await u.methods.name().call(),g=a.logo;let C="-";const j=Number(n[1].hc),v=Number(n[4].bDepoTot),w=Number(h[3]);0!=d?(i[c]={addr:o,total:C,hc:j,filled:v,status:w,name:f,logo:g},c++):(i[r]={addr:o,total:C,hc:j,filled:v,status:w,name:f,logo:g},r++)}}catch(e){}}k(!1),M(i)}catch(s){}}else _.back()}()}),[a,b,w]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t.Z,{headTitle:"Profile",pageTitle:"",pageTitleSub:"",pageclassName:"front",parent:"Home",child:"Profile",p:s,children:(0,n.jsx)("div",{className:"profile-page",children:(0,n.jsxs)("div",{className:"container-1",children:[b&&(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)(l.Z,{p:s,uUname:w})})}),P?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"row",style:{height:"100px"},children:(0,n.jsx)("div",{className:"loader",children:"Loading..."})})}):b?(0,n.jsx)("div",{className:"row",style:{placeContent:"space-between"},children:(0,n.jsxs)("div",{className:" col-12",children:[(0,n.jsx)("div",{className:"card-header px-0 pt-0 pb-0 text-uppercase",children:(0,n.jsx)("h4",{className:"card-title",children:"Spotlight"})}),(0,n.jsxs)("div",{className:" top-creators-content",children:[(0,n.jsx)(u.Z5,{onDragEnd:async function(e){if(!e.destination)return;L(!1);let s=Array.from(Z);const[a]=s.splice(e.source.index,1);s.splice(e.destination.index,0,a),s=function(e){const s=e;for(let a=0;a<e.length;a++)if(a<=1){if("{pinned-not-pinned}"==e[a].name){const n=a+1;if("{pinned-not-pinned}"!=e[n].name){const t=e[a],l=e[n];s[a]=l,s[n]=t}}}else a>2&&"{pinned-not-pinned}"==e[a].name&&s.slice[a];return s}(s),M(s),await async function(e){const s=[];s.slice[0];for(let n=0;n<e.length;n++)"{pinned-not-pinned}"!=e[n].name&&(e[n].isActive=n<=2?1:0,s.push(e[n]));await v({req:"saveObject",contract:s},!1);const a=[];for(let n=0;n<s.length;n++)e[n].isActive&&a.push(e[n]);j(a)}(s)},onDragStart:function(){L(!0)},children:(0,n.jsx)(u.bK,{droppableId:"card-saved-body",children:e=>(0,n.jsxs)("ul",{className:"card-saved-body",...e.droppableProps,ref:e.innerRef,children:[Z.map(((e,s)=>{let{addr:a,name:t,status:l,total:i,logo:r,filled:o,hc:d}=e;return"{pinned-not-pinned}"!=t?(0,n.jsx)(u._l,{draggableId:a,index:s,children:e=>(0,n.jsxs)("div",{className:"row justify-content-between creator-widget active px-4 align-items-center",style:{cursor:"pointer"},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:[(0,n.jsxs)("div",{className:"d-flex align-items-center save-imge col-4",children:[(0,n.jsxs)("div",{className:"me-3",children:[" ",(0,n.jsx)("svg",{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14C0 13.45 0.196 12.979 0.588 12.587C0.979333 12.1957 1.45 12 2 12C2.55 12 3.021 12.1957 3.413 12.587C3.80433 12.979 4 13.45 4 14C4 14.55 3.80433 15.021 3.413 15.413C3.021 15.8043 2.55 16 2 16ZM8 16C7.45 16 6.97933 15.8043 6.588 15.413C6.196 15.021 6 14.55 6 14C6 13.45 6.196 12.979 6.588 12.587C6.97933 12.1957 7.45 12 8 12C8.55 12 9.021 12.1957 9.413 12.587C9.80433 12.979 10 13.45 10 14C10 14.55 9.80433 15.021 9.413 15.413C9.021 15.8043 8.55 16 8 16ZM2 10C1.45 10 0.979333 9.804 0.588 9.412C0.196 9.02067 0 8.55 0 8C0 7.45 0.196 6.979 0.588 6.587C0.979333 6.19567 1.45 6 2 6C2.55 6 3.021 6.19567 3.413 6.587C3.80433 6.979 4 7.45 4 8C4 8.55 3.80433 9.02067 3.413 9.412C3.021 9.804 2.55 10 2 10ZM8 10C7.45 10 6.97933 9.804 6.588 9.412C6.196 9.02067 6 8.55 6 8C6 7.45 6.196 6.979 6.588 6.587C6.97933 6.19567 7.45 6 8 6C8.55 6 9.021 6.19567 9.413 6.587C9.80433 6.979 10 7.45 10 8C10 8.55 9.80433 9.02067 9.413 9.412C9.021 9.804 8.55 10 8 10ZM2 4C1.45 4 0.979333 3.804 0.588 3.412C0.196 3.02067 0 2.55 0 2C0 1.45 0.196 0.979333 0.588 0.588C0.979333 0.196 1.45 0 2 0C2.55 0 3.021 0.196 3.413 0.588C3.80433 0.979333 4 1.45 4 2C4 2.55 3.80433 3.02067 3.413 3.412C3.021 3.804 2.55 4 2 4ZM8 4C7.45 4 6.97933 3.804 6.588 3.412C6.196 3.02067 6 2.55 6 2C6 1.45 6.196 0.979333 6.588 0.588C6.97933 0.196 7.45 0 8 0C8.55 0 9.021 0.196 9.413 0.588C9.80433 0.979333 10 1.45 10 2C10 2.55 9.80433 3.02067 9.413 3.412C9.021 3.804 8.55 4 8 4Z",fill:"#C3D3F3"})})]}),(0,n.jsx)("div",{className:"token-img me-2",children:(0,n.jsx)("span",{children:(0,n.jsx)("img",{src:r,onError:e=>{let{currentTarget:s}=e;s.onerror=null,s.src="/images/profile/unknown.png"}})})}),(0,n.jsxs)("div",{className:"latest-contribution d-flex flex-column",children:[(0,n.jsx)("span",{className:"mb-0 text-grey bold",children:t}),0==l&&(0,n.jsx)("span",{className:"text-white",children:"Upcoming"}),1==l&&(0,n.jsx)("span",{className:"text-white",children:"Inprogress"}),2==l&&(0,n.jsx)("span",{className:"text-white",children:"Ended"}),3==l&&(0,n.jsx)("span",{className:"text-white",children:"Success"}),4==l&&(0,n.jsx)("span",{className:"text-white",children:"Canceled"})]})]}),(0,n.jsxs)("div",{className:"col-12 col-md-3 col-xxl-5 d-flex align-items-center content-item-favorites justify-content-between text-center",children:[(0,n.jsx)("div",{className:"border-between"}),(0,n.jsxs)("span",{className:"bold",children:[(o/1e18).toLocaleString()," / ",(d/1e18).toLocaleString()," ",(0,n.jsx)("span",{className:"text-white",children:C("symbol")})]}),(0,n.jsx)("div",{className:"border-between"}),(0,n.jsxs)("span",{className:"bold",children:[i," ",(0,n.jsx)("span",{className:"text-white",children:C("symbol")})]})]}),s<3?(0,n.jsxs)("div",{className:"col-12 col-xxl-3 col-md-5 d-flex column-row gap-3 justify-content-end favorited-button",children:[(0,n.jsx)(c(),{href:"pool/"+a+"?chain="+E,children:(0,n.jsxs)("div",{className:"button view text-uppercase c-pointer center-svg",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 23 17",fill:"none",className:"me-1",children:(0,n.jsx)("path",{d:"M8.66808 8.5C8.66808 9.2252 8.95616 9.9207 9.46896 10.4335C9.98175 10.9463 10.6773 11.2344 11.4025 11.2344C12.1277 11.2344 12.8232 10.9463 13.3359 10.4335C13.8487 9.9207 14.1368 9.2252 14.1368 8.5C14.1368 7.7748 13.8487 7.0793 13.3359 6.5665C12.8232 6.05371 12.1277 5.76562 11.4025 5.76562C10.6773 5.76562 9.98175 6.05371 9.46896 6.5665C8.95616 7.0793 8.66808 7.7748 8.66808 8.5ZM22.003 7.87012C19.6886 2.99463 16.1901 0.541016 11.5001 0.541016C6.80773 0.541016 3.31163 2.99463 0.997181 7.87256C0.904347 8.06913 0.856201 8.28383 0.856201 8.50122C0.856201 8.71861 0.904347 8.93331 0.997181 9.12988C3.31163 14.0054 6.81017 16.459 11.5001 16.459C16.1925 16.459 19.6886 14.0054 22.003 9.12744C22.191 8.73193 22.191 8.27295 22.003 7.87012ZM11.4025 12.7969C9.02941 12.7969 7.10558 10.873 7.10558 8.5C7.10558 6.12695 9.02941 4.20312 11.4025 4.20312C13.7755 4.20312 15.6993 6.12695 15.6993 8.5C15.6993 10.873 13.7755 12.7969 11.4025 12.7969Z",fill:"white"})}),1==l?"Contribute":"View Presale"]})}),(0,n.jsx)("div",{className:"button view closes text-uppercase c-pointer center-svg",onClick:()=>async function(e){await v({req:"saveUnActive",contract:e},!1);let s={},a=[];for(let n=0;n<Z.length;n++)Z[n].addr!=e?a.push(Z[n]):s=Z[n];a.push(s),M(a)}(a),children:(0,n.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M10.5007 0.583984C4.7569 0.583984 0.0839844 5.2569 0.0839844 11.0007C0.0839844 16.7444 4.7569 21.4173 10.5007 21.4173C16.2444 21.4173 20.9173 16.7444 20.9173 11.0007C20.9173 5.2569 16.2444 0.583984 10.5007 0.583984ZM14.8829 13.91L13.41 15.3829L10.5007 12.4736L7.59128 15.3829L6.11836 13.91L9.02774 11.0007L6.11836 8.09128L7.59128 6.61836L10.5007 9.52774L13.41 6.61836L14.8829 8.09128L11.9736 11.0007L14.8829 13.91Z",fill:"white"})})})]}):(0,n.jsx)("div",{className:"col-12 col-xxl-3 col-md-5 d-flex column-row justify-content-end favorited-button",children:(0,n.jsx)(c(),{href:"pool/"+a+"?chain="+E,children:(0,n.jsxs)("div",{className:"button view text-uppercase c-pointer center-svg",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 23 17",fill:"none",className:"me-1",children:(0,n.jsx)("path",{d:"M8.66808 8.5C8.66808 9.2252 8.95616 9.9207 9.46896 10.4335C9.98175 10.9463 10.6773 11.2344 11.4025 11.2344C12.1277 11.2344 12.8232 10.9463 13.3359 10.4335C13.8487 9.9207 14.1368 9.2252 14.1368 8.5C14.1368 7.7748 13.8487 7.0793 13.3359 6.5665C12.8232 6.05371 12.1277 5.76562 11.4025 5.76562C10.6773 5.76562 9.98175 6.05371 9.46896 6.5665C8.95616 7.0793 8.66808 7.7748 8.66808 8.5ZM22.003 7.87012C19.6886 2.99463 16.1901 0.541016 11.5001 0.541016C6.80773 0.541016 3.31163 2.99463 0.997181 7.87256C0.904347 8.06913 0.856201 8.28383 0.856201 8.50122C0.856201 8.71861 0.904347 8.93331 0.997181 9.12988C3.31163 14.0054 6.81017 16.459 11.5001 16.459C16.1925 16.459 19.6886 14.0054 22.003 9.12744C22.191 8.73193 22.191 8.27295 22.003 7.87012ZM11.4025 12.7969C9.02941 12.7969 7.10558 10.873 7.10558 8.5C7.10558 6.12695 9.02941 4.20312 11.4025 4.20312C13.7755 4.20312 15.6993 6.12695 15.6993 8.5C15.6993 10.873 13.7755 12.7969 11.4025 12.7969Z",fill:"white"})}),1==l?"Contribute":"View Presale"]})})})]})},a):2==s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u._l,{draggableId:a,index:s,isDragDisabled:!0,children:e=>(0,n.jsxs)("div",{className:"d-flex justify-content-between creator-widget active  align-items-center hidden-saved ",style:{cursor:"pointer"},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:[(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("div",{className:"token-img vis-n",children:(0,n.jsx)("span",{children:(0,n.jsx)("img",{src:"/images/profile/unknown.png"})})}),(0,n.jsx)("div",{className:"latest-contribution"})]}),(0,n.jsx)("div",{className:"text-end",children:(0,n.jsx)("h5",{className:"text-primary",children:" "})})]})},a),(0,n.jsx)("div",{className:"border-bottom-grey2 py-4",style:S?{transform:"translate(0, 150px)"}:{}})]}):void 0})),e.placeholder]})})}),!Z.length&&(0,n.jsx)("div",{className:"card c-pointer",children:(0,n.jsx)("div",{className:"card-body py-2 text-uppercase bold text-center",children:"No Contribution"})})]})]})}):(0,n.jsxs)("div",{className:"nothing-here",children:[(0,n.jsx)("img",{src:"/images/chain/not_connected.png",style:{width:"100%"}}),(0,n.jsx)("p",{children:"Oops! your Wallet is not connected!"})]})]})})})})}}},function(e){e.O(0,[5445,8543,260,630,1664,3496,2449,9801,9774,2888,179],(function(){return s=10392,e(e.s=s);var s}));var s=e.O();_N_E=s}]);