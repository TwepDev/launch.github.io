(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6551],{13011:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pools",function(){return a(25533)}])},25533:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(85893),r=a(67294),n=a(79801),i=(a(11163),a(37918)),l=a.n(i),o=a(14783),c=(a(2811),a(41664),a(17501));function d(e){let{p:s,x:a}=e;const{connected:n,favorited:i,bn:l}=s,[o,d]=(0,r.useState)("hsl(191deg 98% 59%)"),[u,m]=(0,r.useState)("#036AE3"),[p,h]=(0,r.useState)("hsl(212deg 97% 45%)"),[f,g]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{!async function(){if(n)for(let e=0;e<i.length;e++)i[e].addr==a.token.presaleAddress&&g(!0)}()})),(0,t.jsx)(c.Z,{p:s,Datas:{external:a.external,saleId:a.saleId,status:a.status,safe:a.safe,isFavorited:f,Filled:+l(a.num.filled).div(10**18),logoURL:a.token.logo,pools:!0,startTime:1e3*a.num.start,endTime:1e3*a.num.end,name:a.token.name,presaleType:a.mode,softCap:+l(a.num.softCap).div(10**18),hardCap:+l(a.num.hardCap).div(10**18),liqRate:a.num.liq/100,lockup:a.num.lockDur/86400,contract:a.token.presaleAddress,headerImage:a.headerImage,premiumColor:a.premiumColor,isPremium:a.isPremium,premiumColor2:a.premiumColor2,canvasColor:a.canvasColor,insurance:a.insurance,currency:a.currency}})}var u=a(69015);a(68097);var m=function(e){let{p:s}=e;const[a,i]=(0,r.useState)("all"),[c,m]=(0,r.useState)([]),[p,h]=(0,r.useState)([]),[f,g]=(0,r.useState)([]),[x,k]=(0,r.useState)([]),[C,y]=(0,r.useState)(!0),[w,v]=(0,r.useState)(0),{chain:N,rpcURL:j,pContract:b}=s,[S,P]=(0,r.useState)(0),[T,D]=(0,r.useState)(0);async function E(){try{if(!b[N])return;const e=new(new(l())(j).eth.Contract)(o.aggr,b[N].aggr);await async function(e){const s=Number(await e.methods.getPinksaleTotalNumberOfPools().call())-1,a=s-(S+6);P(S+7);let t=s-S;t<0&&(t=0),(await e.methods.getPinksalePools(a,t).call()).forEach(((e,s)=>{if(s<0)return;const a=e.adrs,t=e.ex,r=e.tokenInfo,n=e.uints,i=a.currency,l=a.pAdr,o=JSON.parse(e.strings.poolDetails);let c={a:"",b:""};if(e.strings.kycDetails&&(c=JSON.parse(e.strings.kycDetails)),"0x0000000000000000000000000000000000000000"!=a.token){const e=r.name,s=n.status,a=o.a,d=o.b,u=o.d,m="",p=o.k,h=o.f,f=o.g,g=c.b,k=c.a,C=!1,y=n.softCap,w=n.hardCap,v=100*n.liq,N=n.startTime,j=n.endTime,b=n.lockUp,S=n.totalRaised,P=n.presaleType;x.push({token:{presaleAddress:l,name:e,logo:a},social:{twitter:u,discord:p,telegram:h,medium:m,website:d,reddit:f},safe:{audit:g,kyc:k},num:{softCap:y,hardCap:w,liq:v,start:N,end:j,lockDur:b,filled:S},status:s,mode:P,currency:i,insurance:C,headerImage:"",isPremium:!0,canvasColor:"#036AE3",premiumColor:"hsl(212deg 97% 45%)",premiumColor2:"hsl(191deg 98% 59%)",external:t})}}))}(e),await async function(e){const s=Number(await e.methods.getDxSaleTotalNumberOfPools().call())-1,a=s-(T+6);let t=s-T;if(t<0&&(t=0),D(T+7),a<0)return;(await e.methods.getDxSalePools(a,t).call()).forEach(((e,s)=>{if(s<0)return;const a=e.adrs,t=e.ex,r=e.social,n=e.strings,i=e.tokenInfo,l=e.uints,o=a.currency,c=a.pAdr,d=l.saleId,u=i.name,m=l.status,p=r.BannerandLogo.split("@@@@")[0],h=r.website,f=r.twitter,g=r.discord,k=r.tele,C=r.reddit,y=0!=n.kycDetails.length?n.kycDetails.split("|")[0]:"",w=0!=n.kycDetails.length?n.kycDetails.split("|")[1]:"",v=l.softCap,N=l.hardCap,j=100*l.liq,b=l.startTime,S=l.endTime,P=l.lockUp-S,T=l.totalRaised,D=l.presaleType;x.push({token:{presaleAddress:c,name:u,logo:p},social:{twitter:f,discord:g,telegram:k,medium:"",website:h,reddit:C},safe:{audit:y,kyc:w},num:{softCap:v,hardCap:N,liq:j,start:b,end:S,lockDur:P,filled:T},status:m,mode:D,currency:o,insurance:!1,headerImage:r.BannerandLogo.split("@@@@")[1],isPremium:!0,canvasColor:"#036AE3",premiumColor:"hsl(212deg 97% 45%)",premiumColor2:"hsl(191deg 98% 59%)",external:t,saleId:d})}))}(e)}catch(e){}}const[A,I]=(0,r.useState)(0),[_,q]=(0,r.useState)([]);async function L(){try{if(!c.length)return;const e=new(l())(j),s=c.length-1-A;I(s-5);let a=[];for(let t=s;t>s-5;t--)c[t]&&a.push(c[t]);a.map((async(s,a)=>{if(!_.includes(s)){_.push(s);const a=new e.eth.Contract(u.presaleView,b[N].cData),t=await a.methods.getPresale(s).call();let r="#036AE3",n="hsl(212deg 97% 45%)",i="hsl(191deg 98% 59%)",l="",o=!1;const c=t.uints,d=t.adrs,m=t.bools,p=t.social,h=t.tokenInfo,f=p.color.split("|")[0],g=p.color.split("|")[1],k=p.color.split("|")[2];m.isEp&&(o=!0,l=p.premiumBanner,r=f,n=g,i=k);const C=s,y=h.name,w=c.status,v=p.website,j=p.tele,S=p.twitter,P=p.discord,T=p.medium,D=p.reddit,E=p.logo,A="",I="",q=m.insured,L=c.softCap,R=c.hardCap,O=100*c.liq,U=c.startTime,F=c.endTime,B=c.lockUp,J=c.totalRaised,X=c.presaleType;x.push({token:{presaleAddress:C,name:y,logo:E},social:{twitter:S,discord:P,telegram:j,medium:T,website:v,reddit:D},safe:{audit:A,kyc:I},num:{softCap:L,hardCap:R,liq:O,start:U,end:F,lockDur:B,filled:J},status:w,mode:X,insurance:q,headerImage:l,isPremium:o,canvasColor:r,currency:d.currency,premiumColor:n,premiumColor2:i})}}))}catch(e){y(!1)}}const R=async()=>{if(!C){y(!0);try{await E(),await L(),y(!1)}catch(e){y(!1)}}};return(0,r.useEffect)((()=>{E()}),[N]),(0,r.useEffect)((()=>{!async function(){try{let e=new(new(l())(j).eth.Contract)(o.presaleAdmin,b[N].ctPresale);const s=(await e.methods.getPresales("0x0000000000000000000000000000000000000000",0,0).call())[3];m(s),await L(),y(!1)}catch(e){y(!1)}}()}),[j]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.Z,{headTitle:"WeLaunch - Pool Dashboard",pageTitleSub:"Pool",pageclassName:"admin",parent:"Home",child:"Pools",p:s,children:(0,t.jsx)("div",{className:"row",style:{paddingTop:"20px"},children:(0,t.jsx)("div",{className:"collections section-padding",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"filter-tab",children:[(0,t.jsxs)("div",{className:"filter-nav mb-4 select_filter",children:[(0,t.jsx)("a",{className:"all"==a?"active":"",onClick:()=>i("all")+R(),children:"All"}),(0,t.jsx)("a",{className:"kyc"==a?"active":"",onClick:()=>i("kyc")+R(),children:"KYC"}),(0,t.jsx)("a",{className:"upcoming"==a?"active":"",onClick:()=>i("upcoming")+R(),children:"Upcoming"}),(0,t.jsx)("a",{className:"inprogress"==a?"active":"",onClick:()=>i("inprogress")+R(),children:"Inprogress"}),(0,t.jsx)("a",{className:"ended"==a?"active":"",onClick:()=>i("ended")+R(),children:"Ended"})]}),(0,t.jsxs)("div",{className:"row",children:[x.map(((e,r)=>{if("all"==a)return(0,t.jsx)(d,{p:s,x:x[r]},r);if("kyc"==a){if(e.safe.kyc)return(0,t.jsx)(d,{p:s,x:x[r]},r)}else if("upcoming"==a){if("0"==e.status)return(0,t.jsx)(d,{p:s,x:x[r]},r)}else if("inprogress"==a){if("1"==e.status)return(0,t.jsx)(d,{p:s,x:x[r]},r)}else if("ended"==a&&("2"==e.status||"3"==e.status))return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(d,{p:s,x:x[r]},r)})})),C?(0,t.jsx)("div",{className:"row",style:{height:"100px"},children:(0,t.jsx)("div",{className:"loader",children:"Loading..."})}):"",C?"":(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)("div",{className:"c-pointer mt-5 py-2 px-3",onClick:R,style:{background:"#1d2c6245",borderRadius:"6px"},children:"Load New"})})]})]})})})})})})})})}}},function(e){e.O(0,[5445,8543,260,1664,3496,3307,9801,7501,9774,2888,179],(function(){return s=13011,e(e.s=s);var s}));var s=e.O();_N_E=s}]);