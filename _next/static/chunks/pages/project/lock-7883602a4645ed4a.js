(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8381],{6383:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/lock",function(){return a(90731)}])},83504:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var t=a(85893),l=a(67294);function n(e){let{start:s,end:a}=e;const[n,r]=(0,l.useState)(0),[c,i]=(0,l.useState)(0),[o,d]=(0,l.useState)("00"),[m,u]=(0,l.useState)("00");return setInterval((()=>((e,s)=>{let a=new Date(e);a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds());const t=new Date;var l=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());const n=Date.parse(a)-Date.parse(new Date(l));let c=new Date(s);c=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds());const o=Date.parse(c)-Date.parse(new Date(l));if(n>0){const e=Math.floor(n/1e3%60),s=Math.floor(n/1e3/60%60),a=Math.floor(n/36e5%24),t=Math.floor(n/864e5);u(e>=10?e:"0"+e),d(s>=10?s:"0"+s),i(a>=10?a:"0"+a),r(t>=10?t:"0"+t)}else if(n<0&&o>0){const e=Math.floor(o/1e3%60),s=Math.floor(o/1e3/60%60),a=Math.floor(o/36e5%24),t=Math.floor(o/864e5);u(e>=10?e:"0"+e),d(s>=10?s:"0"+s),i(a>=10?a:"0"+a),r(t>=10?t:"0"+t)}})(s,a)),1e3),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("span",{children:[n," days, ",c,", hours, ",o," minutes, ",m," seconds"]})})}},47720:function(e,s,a){"use strict";var t=a(85893),l=(a(67294),a(1007)),n=a(23307),r=a(48999);s.Z=e=>{let{start:s,end:a,status:c,current:i}=e;(0,l.ZP)((e=>{let{className:s,...a}=e;return(0,t.jsx)(n.Z,{...a,arrow:!0,classes:{popper:s}})}))((e=>{let{theme:s}=e;return{["& .".concat(r.Z.arrow)]:{color:s.palette.common.black},["& .".concat(r.Z.tooltip)]:{top:"15px",maxWidth:"none",color:"#00B2FF",fontSize:"15px",fontFamily:"Sk-Modernist-Mono",backgroundColor:s.palette.common.black}}}));let o={height:"60%",width:"".concat((i-s)/(a-s)*100<2?2:(a-s)/(a-s)*100,"%"),transition:"width 1s ease-in-out",background:"linear-gradient(92.09deg, rgb(48, 215, 253) -11.68%, rgb(3, 107, 226) 97.36%)",borderRadius:"20px",textAlign:"right",position:"relative"};return(0,t.jsx)("div",{style:{height:10,width:"100%",backgroundColor:"#020518",borderRadius:50,position:"relative"},children:(0,t.jsx)("div",{style:{display:"flex",height:"100%",alignItems:"center",padding:"0px 3px"},children:(0,t.jsx)("div",{style:o,className:0==c?"progress-custom-bar active":"progress-custom-bar"})})})}},90731:function(e,s,a){"use strict";a.r(s);var t=a(85893),l=a(79801),n=a(67294),r=a(37918),c=a.n(r),i=a(14783),o=a(11163),d=a.n(o),m=(a(459),a(9198)),u=a.n(m),h=a(50450),p=a(55678),x=a(83504),j=a(47720);s.default=function(e){let{p:s}=e;const{address:a,userProfile:r,BlurAddress:m,blockURL:g,BlurBalance:N,extractErrorCode:b,chain:v,connected:f,balance:w,bn:y,rpcURL:C,thisWeb3:k,pContract:T}=s,S=(0,o.useRouter)().query.chain,[U,D]=(0,n.useState)(null),[M,_]=(0,n.useState)(null),[A,F]=(0,n.useState)(null),[L,R]=(0,n.useState)(null),[E,P]=(0,n.useState)(!1),[Z,B]=(0,n.useState)(!1),[I,Y]=(0,n.useState)(!1),[O,H]=(0,n.useState)(" "),[W,V]=(0,n.useState)(null),[X,z]=(0,n.useState)(null),[q,G]=(0,n.useState)(!1),[J,K]=(0,n.useState)(0),[Q,$]=(0,n.useState)(new Date),[ee,se]=(0,n.useState)("day"),[ae,te]=(0,n.useState)(null),[le,ne]=(0,n.useState)(null),[re,ce]=(0,n.useState)(null),[ie,oe]=(0,n.useState)(null),[de,me]=(0,n.useState)(!1),[ue,he]=(0,n.useState)(null),[pe,xe]=(0,n.useState)(null),[je,ge]=(0,n.useState)(0),[Ne,be]=(0,n.useState)([]);function ve(e){let s=new Date(1e3*e);return s=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds()),s}function fe(e){const s=ve(e).toString();let a="";return a+=s.split(" ")[1]+" ",a+=s.split(" ")[2]+" ",a+=s.split(" ")[3]+" ",a+=s.split(" ")[4]+" ",a}const we=(0,n.useRef)(null);return(0,n.useEffect)((()=>{}),[C,a]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Z,{headTitle:"WeLaunch - Lock Token",pageTitle:"",pageTitleSub:"Lock your Token",pageclassName:"admin",parent:"Create Project",child:"",p:s,children:(0,t.jsxs)("div",{className:"row",style:{paddingTop:"20px"},children:[(0,t.jsxs)("div",{className:"col-xxl-8 col-xl-8 col-lg-8",children:[(0,t.jsx)("h4",{className:"card-title mb-2 text-uppercase",children:"Create new Locks"}),(0,t.jsx)("div",{className:"card detail_card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{className:"form-label",children:["Token or Pair Address",(0,t.jsx)("span",{className:"asterisk",children:"*"})," ",(0,t.jsx)("span",{className:"info",children:(0,t.jsx)("i",{className:"ri-information-fill"})})]}),(0,t.jsx)("input",{type:"text",id:"name1",autoComplete:"nope",ref:we,className:"px-3 py-2 normal-input rounded w-100 ",onChange:e=>async function(e){if(P(!1),0==e.length)D(null),F(""),H(""),D(""),V(""),z(""),Y(!1);else{const t=new(c())(C);try{let s=new t.eth.Contract(i.IERC20,e),a=await s.methods.symbol().call(),l=await s.methods.name().call(),n=await s.methods.decimals().call(),r=await s.methods.totalSupply().call();const c=10**n;H(l),D(a),V(n),z(+y(r).div(c)),Y(!0),F(e)}catch(e){D(null)}try{let l=new t.eth.Contract(i.IERC20,e),n=await l.methods.decimals().call(),r=await l.methods.balanceOf(a).call();R((r/10**n).toString());var s=await l.methods.allowance(a,T[v].presaleLocker).call();P(s>1157920892373162e53)}catch(e){F(""),Y(!1)}}}(e.target.value)}),null==A||I?"":(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:"Contract Invalid"})]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsxs)("label",{className:"form-label",children:["Amount",(0,t.jsx)("span",{className:"asterisk",children:"*"})," ",(0,t.jsx)("span",{className:"info",children:(0,t.jsx)("i",{className:"ri-information-fill"})})]}),(0,t.jsxs)("div",{className:"row g-0",children:[(0,t.jsx)("div",{className:"col-10",children:(0,t.jsx)("input",{id:"minBuy",type:"number",className:"px-3 h-100 w-100 rounded-start presale-input border-end-0",value:0==M?"":M,onChange:e=>{var s;(s=Number(e.target.value))<=L?(_(s),B(!0)):(_(s),B(!1))}})}),(0,t.jsx)("div",{className:"col-2",children:(0,t.jsx)("input",{type:"text",className:"px-2 py-2 w-100 text-end rounded-end presale-input presale-input-label border-start-0 c-pointer",readOnly:!0,onClick:()=>(_(L),void B(!0)),value:"MAX"})}),null==M||Z?"":(0,t.jsxs)("div",{className:"invalid-feedback",style:{display:"block"},children:["Your max Amount is ",L," ",U]})]})]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsxs)("label",{className:"form-label",children:[de?"First":""," Unlock Date",(0,t.jsx)("span",{className:"asterisk",children:"*"})]}),(0,t.jsxs)("div",{className:"row g-0",children:[(0,t.jsx)("div",{className:"col-10",children:(0,t.jsx)(u(),{selected:le,showTimeSelect:!0,dateFormat:"MMMM d, yyyy h:mm aa",className:"px-3 py-2 w-100 rounded-start border-end-0 presale-input presale-date",minDate:function(){const e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}(),onChange:e=>function(e){ne(e);const s=new Date(e);var a=6e4*s.getTimezoneOffset();const t=new Date(s.getTime()-a);let l=new Date(Number(t));l=new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds()),ce(Math.round(t.getTime()/1e3));const n=t.getTime()-+new Date;oe(n<0)}(e.getTime())})}),(0,t.jsx)("div",{className:"col-2",children:(0,t.jsx)("input",{type:"text",className:"px-3 py-2 w-100 text-center rounded-end  presale-input presale-input-label presale-input-image p-calendar border-start-0",readOnly:!0,disabled:!0,value:"",style:{backgroundImage:"url(/images/Fa/Calendar.svg)"}})})]}),ie?(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:"Unlock time must be on future"}):""]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsx)("label",{className:"form-label",children:"Use Vesting"}),(0,t.jsxs)(h.OB,{className:"option",children:[(0,t.jsx)(h.Z_,{className:"px-3 w-100 presale-select rounded",tag:"label",children:(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsx)("div",{className:"option",children:de?"Yes":"No"}),(0,t.jsx)("div",{className:"dropdown-arrow pe-2",children:(0,t.jsx)("i",{className:"ri-arrow-drop-down-fill"})})]})}),(0,t.jsxs)(h.h_,{className:"w-100 rounded presale-dropdown",children:[(0,t.jsx)(h.hP,{className:de?"item":"item active",onClick:()=>me(!1),children:"No"}),(0,t.jsx)(h.hP,{className:de?"item active":"item",onClick:()=>me(!0),children:"Yes"})]})]})]}),de?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsxs)("label",{className:"form-label",children:["First unlock (%)",(0,t.jsx)("span",{className:"asterisk",children:"*"})," ",(0,t.jsx)("span",{className:"info",children:(0,t.jsx)("i",{className:"ri-information-fill"})})]}),(0,t.jsx)("input",{type:"number",id:"name1",autoComplete:"nope",ref:we,className:"px-3 py-2 normal-input rounded w-100 ",onChange:e=>(e=>{if(he(e),de)try{const s=[];for(let a=100-e;a>0;a--){const t=(100-+e)/a;Number.isInteger(t)&&s.push({data:a})}ge(s[0].data),be(s)}catch(s){}})(e.target.value)}),ue>99?(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:"Can't be over 99%!"}):"",null==ue||ue?"":(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:"Cannot be empty!"})]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsxs)("label",{className:"form-label",children:["Vesting period (days)",(0,t.jsx)("span",{className:"asterisk",children:"*"})," ",(0,t.jsx)("span",{className:"info",children:(0,t.jsx)("i",{className:"ri-information-fill"})})]}),(0,t.jsx)("input",{type:"number",id:"name1",autoComplete:"nope",ref:we,className:"px-3 py-2 normal-input rounded w-100 ",onChange:e=>xe(86400*e.target.value)}),null==pe||pe?"":(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:"Cannot be empty!"})]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsxs)("label",{className:"form-label",children:["Vesting unlock (%)",(0,t.jsx)("span",{className:"asterisk",children:"*"})," ",(0,t.jsx)("span",{className:"info",children:(0,t.jsx)("i",{className:"ri-information-fill"})})]}),(0,t.jsxs)(h.OB,{className:"option",children:[(0,t.jsx)(h.Z_,{className:"px-3 w-100 presale-select rounded",tag:"label",children:(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsx)("div",{className:"option",children:"".concat(je,"%")}),(0,t.jsx)("div",{className:"dropdown-arrow pe-2",children:(0,t.jsx)("i",{className:"ri-arrow-drop-down-fill"})})]})}),(0,t.jsx)(h.h_,{className:"w-100 rounded presale-dropdown",children:Ne.map((e=>(0,t.jsxs)(h.hP,{className:e.data==je?"item active":"item",onClick:()=>ge(e.data),children:[e.data,"%"]})))})]})]})]}):""]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)("button",{type:"submit",className:"btn x-btn mr-2",onClick:()=>async function(){G(!0);try{const e=new(c())(k);if(e.utils.numberToHex(await e.eth.getChainId())!=v)return G(!1),void p.Am.error("Wrong Chain!");if(E){let s=new e.eth.Contract(i.presaleLockerAbi,T[v].presaleLocker),t=new e.eth.Contract(i.IERC20,A),l=await t.methods.decimals().call(),n=y(M).multipliedBy(10**l),r=[A,a,n,re,1e4,0,0];de&&(r=[A,a,n,re,100*ue,Math.floor(pe),100*je]),s.methods.createLock(...r).call({from:a}).then((function(){s.methods.createLock(...r).send({from:a}).then((function(){d().push("/locks?chain="+S),G(!1)})).catch((e=>{G(!1);try{p.Am.error(b(e))}catch(s){p.Am.error(e.message)}}))})).catch((e=>{try{p.Am.error(b(e))}catch(s){p.Am.error(e.message)}G(!1)}))}else new e.eth.Contract(i.IERC20,A).methods.approve(T[v].presaleLocker,"115792089237316195423570985008687907853269984665640564039457584007913129639935").send({from:a}).then((function(){G(!1),P(!0)})).catch((e=>{try{p.Am.error(b(e))}catch(s){p.Am.error(e.message)}G(!1)}))}catch(e){try{p.Am.error(b(e))}catch(s){p.Am.error(e.message)}G(!1)}}(),disabled:de?!(I&&Z&&re&&!ie&&M&&pe&&ue>0&&ue<=99):!(I&&Z&&re&&!ie&&M),children:[q?(0,t.jsx)("div",{className:"spinner-border text-white",style:{width:"1rem",height:"1rem",marginRight:"5px",border:"0.15em solid currentColor",borderRightColor:"transparent"}}):"",E?"Lock":"Approve"]})})]})})]}),(0,t.jsxs)("div",{className:"col-xxl-4 col-xl-4 col-lg-6",children:[(0,t.jsx)("h4",{className:"card-title mb-2 vis-n",children:"Preview"}),(0,t.jsx)("div",{className:"card items border-0",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"infos_i",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom_grey border-dark-100 py-2",children:[(0,t.jsx)("div",{children:"Name"}),(0,t.jsx)("div",{className:"val right-presalerate",children:" "!=O&&O?O:"-"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom_grey border-dark-100 py-2",children:[(0,t.jsx)("div",{children:"Symbol"}),(0,t.jsx)("div",{className:"val right-presalerate",children:" "!=U&&U?U:"-"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom_grey border-dark-100 py-2",children:[(0,t.jsx)("div",{children:"Decimal"}),(0,t.jsx)("div",{className:"val right-presalerate",children:" "!=W&&W?W:"-"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom_grey border-dark-100 py-2",children:[(0,t.jsx)("div",{children:"Total Supply"}),(0,t.jsx)("div",{className:"val right-presalerate",children:" "!=X&&X?(+X).toLocaleString():"-"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom_grey border-dark-100 py-2",children:[(0,t.jsx)("div",{children:"Token"}),(0,t.jsx)("a",{href:"".concat(g,"address/").concat(A),target:"_blank",children:(0,t.jsx)("div",{className:"val right-presalerate",children:" "!=A&&A?A.substring(0,6)+"..."+A.substring(A.length-4):"-"})})]})]})})})]}),I&&Z&&re&&!ie&&M?(()=>{let e=[];const s=+ve(+new Date/1e3)/1e3;if(de){const s=+y(M).multipliedBy(+y(ue).div(100));y(M).minus(s);let a=re;const t=100-ue,l=[{amount:s,time:a}],n=+y(y(M)).multipliedBy(+y(je).div(100));for(let e=t;e>0;e-=je){const e={amount:n,time:Math.floor(a+pe)};a=Math.floor(a+pe),l.push(e)}e=l}else e=[{amount:M,time:re}];return(0,t.jsxs)("div",{className:"col-xxl-8 col-xl-8 col-lg-8",children:[(0,t.jsx)("h4",{className:"card-title mb-2 text-uppercase",children:"Preview"}),(0,t.jsx)("div",{className:"card detail_card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:e.map(((a,l)=>(0,t.jsxs)("div",{className:"d-flex mb-3 ".concat(l+1<e.length?"bt-bt":""),children:[(0,t.jsxs)("div",{className:"me-3",children:[l+1,". "]}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsxs)("span",{className:"",children:[a.amount," ",U]}),(0,t.jsx)("span",{className:"my-2",children:(0,t.jsx)(j.Z,{start:1e3*s,current:0,end:1e3*a.time,status:a.status})}),(0,t.jsx)("span",{className:"",children:(0,t.jsx)(x.Z,{start:1e3*s,end:1e3*a.time})}),(0,t.jsxs)("span",{className:"".concat(l+1<e.length?"mb-2":""),children:["Unlock at ",fe(a.time)]})]}),(0,t.jsx)("div",{className:"d-flex ms-auto align-items-center",children:(0,t.jsx)("div",{className:"badge-status insurance",children:"Locked"})})]})))})})})})]})})():""]})})})}}},function(e){e.O(0,[5445,8543,260,1664,3496,3307,5381,9801,9774,2888,179],(function(){return s=6383,e(e.s=s);var s}));var s=e.O();_N_E=s}]);